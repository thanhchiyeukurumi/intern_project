<div class="post-create-container">
  <h1 class="page-title">Tạo bài viết mới</h1>

  <form [formGroup]="postForm" (ngSubmit)="submitPost()">
    <nz-card>
      <nz-form-item>
        <nz-form-label [nzSpan]="24" nzRequired>Tiêu đề</nz-form-label>
        <nz-form-control [nzSpan]="24" nzErrorTip="Vui lòng nhập tiêu đề bài viết">
          <input nz-input formControlName="title" placeholder="Nhập tiêu đề bài viết" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="24" nzRequired>Nội dung</nz-form-label>
        <nz-form-control [nzSpan]="24" nzErrorTip="Vui lòng nhập nội dung bài viết">
          <app-quill-editor 
            formControlName="content" 
            [placeholder]="'Bắt đầu viết nội dung bài viết của bạn...'" 
            [minHeight]="'500px'"
            (contentChanged)="handleContentChange($event)"
            (editorCreated)="handleEditorCreated($event)">
          </app-quill-editor>
        </nz-form-control>
      </nz-form-item>

      <nz-divider></nz-divider>

      <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24" nzRequired>Danh mục</nz-form-label>
            <nz-form-control [nzSpan]="24" nzErrorTip="Vui lòng chọn ít nhất một danh mục">
              <nz-select 
                formControlName="categories" 
                nzMode="multiple" 
                nzPlaceHolder="Chọn danh mục">
                <nz-option 
                  *ngFor="let category of categories" 
                  [nzLabel]="category.label" 
                  [nzValue]="category.value">
                </nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="24">Thẻ</nz-form-label>
            <nz-form-control [nzSpan]="24">
              <input nz-input formControlName="tags" placeholder="Nhập thẻ, phân cách bằng dấu phẩy" />
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <nz-form-item>
        <nz-form-label [nzSpan]="24">Ảnh bìa</nz-form-label>
        <nz-form-control [nzSpan]="24">
          <input nz-input formControlName="featuredImage" placeholder="URL hình ảnh hoặc chọn từ thư viện" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="24">Tóm tắt</nz-form-label>
        <nz-form-control [nzSpan]="24">
          <textarea 
            nz-input 
            formControlName="excerpt" 
            placeholder="Nhập tóm tắt ngắn cho bài viết" 
            [nzAutosize]="{ minRows: 3, maxRows: 5 }">
          </textarea>
        </nz-form-control>
      </nz-form-item>

      <div class="action-buttons">
        <button nz-button nzType="default" type="button">Lưu nháp</button>
        <button 
          nz-button 
          nzType="primary" 
          type="submit" 
          [nzLoading]="isSubmitting">
          Đăng bài
        </button>
      </div>
    </nz-card>
  </form>
</div> 