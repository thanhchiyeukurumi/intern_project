<nz-card ngSkipHydration>
  <!-- Category Header -->
  <div class="header-container">
    <div class="title-section">
      <div>
        <h2 class="card-title">Tất cả danh mục</h2>
        <p class="subtitle">Quản lý danh mục: thêm, sửa, xóa danh mục</p>
      </div>
      <button nz-button nzType="primary" (click)="showForm()">
        <i nz-icon nzType="plus"></i> <span>Thêm danh mục</span>
      </button>
    </div>

    <!-- Category Form Component -->
    <app-category-form
      [isVisible]="isFormVisible"
      [formTitle]="formTitle"
      [submitButtonText]="submitButtonText"
      [editMode]="editMode"
      [loading]="loading"
      [parentCategories]="listOfParentCategories"
      [editingCategoryId]="editingCategoryId"
      (formSubmit)="handleFormSubmit($event)"
      (formCancel)="hideForm()">
    </app-category-form>

    <!-- Category Table Component -->
    <app-category-table
      [categories]="displayData"
      [loading]="loading"
      [parentCategories]="listOfParentCategories"
      [checked]="checked"
      [indeterminate]="indeterminate"
      [setOfCheckedId]="setOfCheckedId"
      (edit)="showEditForm($event)"
      (delete)="confirmDeleteCategory($event)"
      (checkAll)="onAllChecked($event)"
      (checkItem)="onItemChecked($event)">
    </app-category-table>

    <!-- Pagination Component -->
    <app-admin-pagination
      [total]="total"
      [pageIndex]="pageIndex"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 20, 50, 100]"
      (pageIndexChange)="onPageIndexChange($event)"
      (pageSizeChange)="onPageSizeChange($event)">
    </app-admin-pagination>
  </div>
</nz-card>